{"version":3,"sources":["img/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","type","aria-label","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onClose","title","noValidate","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","isLoading","evt","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","place","setPlace","setLink","ImagePopup","ConfirmPopup","onConfirm","api","options","this","Url","headers","fetch","then","res","_getResponse","method","body","JSON","stringify","cardId","data","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","removedCard","setRemovedCard","closeAllPopups","handleEscClose","key","handleOverlayClose","classList","contains","all","getUserData","getInitialCards","values","userData","initialCards","catch","err","console","log","document","addEventListener","removeEventListener","Provider","changeLikeStatus","newCard","newCards","c","editUserData","changeUserAvatar","postNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"uMAAe,MAA0B,iC,OCS1BA,MAPf,WACI,OACI,wBAAQC,UAAU,sBAAlB,SACI,qBAAKA,UAAU,eAAeC,IAAKC,EAAMC,IAAI,kDCJ5CC,EAAqBC,IAAMC,gBC+DzBC,MA7Df,SAAcC,GACV,IAAMC,EAAcJ,IAAMK,WAAWN,GAC/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAC7CC,EAAyB,yBACTJ,EAAQ,GAAK,2BAE7BK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3DM,EAAuB,qBACXJ,EAAU,oBAAsB,IAalD,OACI,qBACIhB,UAAU,OADd,UAEI,wBACIA,UAAWe,EACXM,QATZ,WACIb,EAAMc,aAAad,EAAMI,SAUrB,wBACIZ,UAAU,oBACVuB,KAAK,SACLC,aAAW,6CACXH,QArBZ,WACIb,EAAMiB,YAAYjB,EAAMI,OAgBpB,SAKI,qBACIZ,UAAU,cACVC,IAAKO,EAAMkB,KACXvB,IAAKK,EAAMmB,SAGnB,sBACI3B,UAAU,oBADd,UAEI,oBACIA,UAAU,cADd,SAC6BQ,EAAMmB,OAEnC,sBACI3B,UAAU,qBADd,UAEI,wBACIA,UAAWoB,EACXG,KAAK,SACLC,aAAW,OACXH,QApCpB,WACIb,EAAMoB,WAAWpB,EAAMI,SAqCX,mBACIZ,UAAU,oBADd,SAEKQ,EAAMS,MAAMY,mBCHtBC,MAnDf,SAActB,GACV,IAAMC,EAAcJ,IAAMK,WAAWN,GACrC,OACI,uBAAMJ,UAAU,wBAAhB,UACI,0BAASA,UAAU,2BAAnB,UACI,wBACIA,UAAU,yBACVuB,KAAK,SACLF,QAASb,EAAMuB,aAHnB,SAII,qBAAK/B,UAAU,kBAAkBC,IAAKQ,EAAYuB,OAAQ7B,IAAI,2CAElE,sBAAKH,UAAU,gBAAf,UACI,oBAAIA,UAAU,gBAAd,SAA+BS,EAAYkB,OAC3C,mBAAG3B,UAAU,iBAAb,SAA+BS,EAAYwB,QAC3C,wBACIjC,UAAU,uBACVuB,KAAK,SACLC,aAAW,iFACXH,QAASb,EAAM0B,mBAGvB,wBACIlC,UAAU,sBACVuB,KAAK,SACLC,aAAW,mDACXH,QAASb,EAAM2B,gBAGvB,yBAASnC,UAAU,uBAAnB,SACI,oBAAIA,UAAU,cAAd,SAEQQ,EAAM4B,MAAMC,KAAI,SAACzB,GAAD,OACZ,cAAC,EAAD,CAEIA,KAAMA,EACNe,KAAMf,EAAKe,KACXD,KAAMd,EAAKc,KACXT,MAAOL,EAAKK,MACZQ,YAAajB,EAAMiB,YACnBG,WAAYpB,EAAMoB,WAClBN,aAAcd,EAAMc,cAPfV,EAAKE,gBC5B3BwB,MAPf,WACI,OACI,wBAAQtC,UAAU,sBAAlB,SACI,mBAAGA,UAAU,kBAAb,uCC0BGuC,MA7Bf,SAAuB/B,GACnB,OACI,qBACIR,UAAS,uCAAkCQ,EAAMmB,KAAxC,YAAgDnB,EAAMgC,QAAU,gBAD7E,SAEI,sBACIxC,UAAU,mBADd,UAEI,wBACIA,UAAU,sBACVuB,KAAK,SACLC,aAAW,6CACXH,QAASb,EAAMiC,UAEnB,oBAAIzC,UAAU,eAAd,SAA8BQ,EAAMkC,QACpC,uBACI1C,UAAU,cACV2B,KAAMnB,EAAMmB,KACZgB,YAAU,EACVC,SAAUpC,EAAMoC,SAJpB,UAKKpC,EAAMqC,SACP,wBACI7C,UAAU,qBACVuB,KAAK,SAFT,SAEmBf,EAAMsC,sBCqD9BC,MAxEf,SAA0BvC,GACtB,IAAMC,EAAcJ,IAAMK,WAAWN,GADR,EAEHC,IAAM2C,SAAS,IAFZ,mBAErBrB,EAFqB,KAEfsB,EAFe,OAGW5C,IAAM2C,SAAS,IAH1B,mBAGrBE,EAHqB,KAGRC,EAHQ,KAyB7B,OApBA9C,IAAM+C,WAAU,YACR3C,EAAYkB,MAAQlB,EAAYyC,eAChCD,EAAQxC,EAAYkB,MACpBwB,EAAe1C,EAAYwB,UAEhC,CAACxB,IAgBA,cAAC,EAAD,CACIkB,KAAK,eACLe,MAAM,4HACNI,WAAYtC,EAAM6C,UAAY,kEAAkB,yDAChDb,OAAQhC,EAAMgC,OACdC,QAASjC,EAAMiC,QACfG,SAdR,SAAsBU,GAClBA,EAAIC,iBACJ/C,EAAMgD,aAAa,CACf7B,OACAM,MAAOiB,KAWPL,SACI,qCACI,uBACI7C,UAAU,iCACVyD,GAAG,aACHlC,KAAK,OACLI,KAAK,YACL+B,YAAY,qBACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRC,MAAOnC,EACPoC,SAjCpB,SAA0BT,GACtBL,EAAQK,EAAIU,OAAOF,UAkCP,sBACI9D,UAAU,qBACVyD,GAAG,qBAEP,uBACIzD,UAAU,kCACVyD,GAAG,cACHlC,KAAK,OACLI,KAAK,aACL+B,YAAY,kCACZC,UAAU,IACVC,UAAU,MACVC,UAAQ,EACRC,MAAOZ,EACPa,SA9CpB,SAAiCT,GAC7BH,EAAeG,EAAIU,OAAOF,UA+Cd,sBACI9D,UAAU,qBACVyD,GAAG,4BC1BZQ,MAxCf,SAAyBzD,GACrB,IAAM0D,EAAY7D,IAAM8D,OAAO,IAW/B,OANA9D,IAAM+C,WAAU,WACP5C,EAAMgC,SACP0B,EAAUE,QAAQN,MAAQ,MAG/B,CAACtD,EAAMgC,SAEN,cAAC,EAAD,CACIb,KAAK,gBACLe,MAAM,wFACNI,WAAYtC,EAAM6C,UAAY,kEAAkB,yDAChDb,OAAQhC,EAAMgC,OACdC,QAASjC,EAAMiC,QACfG,SAjBR,SAAsBU,GAClBA,EAAIC,iBACH/C,EAAM6D,eAAe,CAACrC,OAAQkC,EAAUE,QAAQN,SAgB7CjB,SACI,qCACI,uBACI7C,UAAU,iCACVyD,GAAG,oBACHlC,KAAK,MACLI,KAAK,kBACL+B,YAAY,qGACZG,UAAQ,EACRS,IAAKJ,IAET,sBACIlE,UAAU,qBACVyD,GAAG,kCCkCZc,MAnEf,SAAuB/D,GAAQ,IAAD,EACEH,IAAM2C,SAAS,IADjB,mBAClBwB,EADkB,KACXC,EADW,OAEApE,IAAM2C,SAAS,IAFf,mBAElBtB,EAFkB,KAEZgD,EAFY,KAsB1B,OAlBArE,IAAM+C,WAAU,WACP5C,EAAMgC,SACPiC,EAAS,IACTC,EAAQ,OAEb,CAAClE,EAAMgC,SAcN,cAAC,EAAD,CACIb,KAAK,WACLe,MAAM,gEACNI,WAAYtC,EAAM6C,UAAY,sDAAgB,6CAC9Cb,OAAQhC,EAAMgC,OACdC,QAASjC,EAAMiC,QACfG,SAZR,SAAsBU,GAClBA,EAAIC,iBACJ/C,EAAM2B,WAAW,CAAER,KAAM6C,EAAO9C,UAW5BmB,SACI,qCACI,uBACI7C,UAAU,kCACVyD,GAAG,cACHlC,KAAK,OACLI,KAAK,aACL+B,YAAY,mDACZC,UAAU,IACVC,UAAU,KACVC,UAAQ,EACRE,SA9BpB,SAA2BT,GACvBmB,EAASnB,EAAIU,OAAOF,QA8BJA,MAAOU,IAEX,sBACIxE,UAAU,qBACVyD,GAAG,sBAEP,uBACIzD,UAAU,iCACVyD,GAAG,aACHlC,KAAK,MACLI,KAAK,YACL+B,YAAY,qGACZG,UAAQ,EACRE,SAzCpB,SAA0BT,GACtBoB,EAAQpB,EAAIU,OAAOF,QAyCHA,MAAOpC,IAEX,sBACI1B,UAAU,qBACVyD,GAAG,2BCtCZkB,MAvBf,SAAoBnE,GAChB,OACI,qBACIR,UAAS,kDAA6CQ,EAAMI,KAAKc,MAAQ,gBAD7E,SAEI,yBACI1B,UAAU,uBADd,UAEI,wBACIA,UAAU,qDACVuB,KAAK,SACLC,aAAW,6CACXH,QAASb,EAAMiC,UAEnB,qBACIzC,UAAU,aACVC,IAAKO,EAAMI,KAAKc,KAChBvB,IAAKK,EAAMI,KAAKe,OAEpB,6BACI3B,UAAU,mBADd,UACkCQ,EAAMI,KAAKe,KAD7C,aCADiD,MAhBf,SAAsBpE,GAKlB,OACI,cAAC,EAAD,CACImB,KAAK,UACLe,MAAM,2DACNI,WAAYtC,EAAM6C,UAAY,sDAAgB,eAC9Cb,OAAQhC,EAAMgC,OACdC,QAASjC,EAAMiC,QACfG,SAXR,SAAsBU,GAClBA,EAAIC,iBACJ/C,EAAMqE,UAAUrE,EAAMI,U,cC2FfkE,EARH,I,WAvFR,WAAYC,GAAU,oBAClBC,KAAKC,IAAMF,EAAQE,IACnBD,KAAKE,QAAUH,EAAQG,Q,+CAG3B,WAAe,IAAD,OACV,OAAOC,MAAM,GAAD,OAAIH,KAAKC,IAAT,aAAyB,CACjCC,QAASF,KAAKE,UAEbE,MAAK,SAAAC,GAAG,OAAI,EAAKC,aAAaD,Q,6BAGvC,WAAmB,IAAD,OACd,OAAOF,MAAK,UAAKH,KAAKC,IAAV,UAAuB,CAC/BC,QAASF,KAAKE,UAEbE,MAAK,SAAAC,GAAG,OAAI,EAAKC,aAAaD,Q,0BAGvC,YAA+B,IAAD,OAAf1D,EAAe,EAAfA,KAAMM,EAAS,EAATA,MACjB,OAAOkD,MAAM,GAAD,OAAIH,KAAKC,IAAT,aAAyB,CACjCM,OAAQ,QACRL,QAASF,KAAKE,QACdM,KAAMC,KAAKC,UAAU,CACjB/D,KAAMA,EACNM,MAAOA,MAGVmD,MAAK,SAAAC,GAAG,OAAI,EAAKC,aAAaD,Q,yBAGvC,YAA6B,IAAD,OAAd1D,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KAChB,OAAOyD,MAAM,GAAD,OAAIH,KAAKC,IAAT,WAAuB,CAC/BM,OAAQ,OACRL,QAASF,KAAKE,QACdM,KAAMC,KAAKC,UAAU,CACjB/D,KAAMA,EACND,KAAMA,MAGT0D,MAAK,SAAAC,GAAG,OAAI,EAAKC,aAAaD,Q,wBAGvC,SAAWM,GAAS,IAAD,OACf,OAAOR,MAAM,GAAD,OAAIH,KAAKC,IAAT,kBAAsBU,GAAU,CACxCJ,OAAQ,SACRL,QAASF,KAAKE,UAEbE,MAAK,SAAAC,GAAG,OAAI,EAAKC,aAAaD,Q,8BAGvC,SAAiBM,EAAQ3E,GAAU,IAAD,OAC9B,OAAKA,EAOMmE,MAAM,GAAD,OAAIH,KAAKC,IAAT,wBAA4BU,GAAU,CAC9CJ,OAAQ,SACRL,QAASF,KAAKE,UAEbE,MAAK,SAAAC,GAAG,OAAI,EAAKC,aAAaD,MAV5BF,MAAM,GAAD,OAAIH,KAAKC,IAAT,wBAA4BU,EAA5B,KAAuC,CAC/CJ,OAAQ,MACRL,QAASF,KAAKE,UAEbE,MAAK,SAAAC,GAAG,OAAI,EAAKC,aAAaD,Q,8BAU3C,SAAiBO,GAAO,IAAD,OACnB,OAAOT,MAAM,GAAD,OAAIH,KAAKC,IAAT,oBAAgC,CACxCM,OAAQ,QACRL,QAASF,KAAKE,QACdM,KAAMC,KAAKC,UAAU,CACjB1D,OAAQ4D,EAAK5D,WAGhBoD,MAAK,SAAAC,GAAG,OAAI,EAAKC,aAAaD,Q,0BAGvC,SAAaA,GACT,OAAIA,EAAIQ,GACGR,EAAIS,OAGRC,QAAQC,OAAR,gDAA0BX,EAAIY,a,KAIjC,CAAQ,CAChBhB,IAAK,8CACLC,QAAS,CACLgB,cAAe,uCACf,eAAgB,sBC6FTC,MA7Kf,WAAgB,IAAD,EACmD9F,IAAM2C,UAAS,GADlE,mBACHoD,EADG,KACqBC,EADrB,OAE6ChG,IAAM2C,UAAS,GAF5D,mBAEHsD,EAFG,KAEkBC,EAFlB,OAGiDlG,IAAM2C,UAAS,GAHhE,mBAGHwD,EAHG,KAGoBC,EAHpB,OAI2CpG,IAAM2C,UAAS,GAJ1D,mBAIH0D,EAJG,KAIiBC,EAJjB,OAK+BtG,IAAM2C,SAAS,IAL9C,mBAKH4D,EALG,KAKWC,EALX,OAM4BxG,IAAM2C,SAAS,IAN3C,mBAMHvC,EANG,KAMUqG,EANV,OAOiBzG,IAAM2C,SAAS,IAPhC,mBAOHZ,EAPG,KAOI2E,EAPJ,OAQyB1G,IAAM2C,UAAS,GARxC,mBAQHK,EARG,KAQQ2D,EARR,OAS6B3G,IAAM2C,SAAS,IAT5C,mBASHiE,EATG,KASUC,EATV,KA4DX,SAASC,IACLd,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAAsB,GACtBE,EAAgB,IAEpB,SAASO,EAAe9D,GACJ,WAAZA,EAAI+D,KACJF,IAGR,SAASG,EAAmBhE,GACpBA,EAAIU,OAAOuD,UAAUC,SAAS,UAC9BL,IAiDV,OAhHE9G,IAAM+C,WAAU,WACZ2C,QAAQ0B,IAAI,CAAC3C,EAAI4C,cAAe5C,EAAI6C,oBAC/BvC,MAAK,SAACwC,GAAY,IAAD,cACmBA,EADnB,GACPC,EADO,KACGC,EADH,KAEdhB,EAAee,GACfd,EAASe,MAEZC,OAAM,SAACC,GACJC,QAAQC,IAAIF,QAErB,IA6FH3H,IAAM+C,WAAU,WAGZ,OAFA+E,SAASC,iBAAiB,UAAWhB,GACrCe,SAASC,iBAAiB,UAAWd,GAC9B,WACHa,SAASE,oBAAoB,UAAWjB,GACxCe,SAASE,oBAAoB,UAAWf,OAKhD,cAAClH,EAAmBkI,SAApB,CAA6BxE,MAAOrD,EAApC,SACE,qBAAKT,UAAU,OAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,CACIkC,cA3Ed,WACImE,GAA0B,IA2EhBlE,WAzEd,WACIoE,GAAuB,IAyEbxE,aAhFd,WACI0E,GAAyB,IAgFfhF,YAAaoF,EACbzE,MAAOA,EACPR,WA/Gd,SAAwBhB,GACpB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3DgE,EAAIyD,iBAAiB3H,EAAKE,IAAKE,GAC1BoE,MAAK,SAACoD,GACH,IAAMC,EAAWrG,EAAMC,KAAI,SAACqG,GAAD,OAAOA,EAAE5H,MAAQF,EAAKE,IAAM0H,EAAUE,KACjE3B,EAAS0B,MAEZV,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAwGV1G,aArGd,SAA+BV,GAC3B+F,GAAsB,GACtBO,EAAetG,MAqGT,cAAC,EAAD,IACA,cAAC,EAAD,CACQ4B,OAAQ4D,EACR3D,QAAS0E,EACT3D,aAhElB,SAA0B/C,GACtBuG,GAAa,GACblC,EAAI6D,aAAalI,GACZ2E,MAAK,SAACQ,GACHkB,EAAelB,GACfoB,GAAa,GACbG,OAEHY,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAwDN3E,UAAWA,IAEf,cAAC,EAAD,CACIb,OAAQgE,EACR/D,QAAS0E,EACT9C,eA1DlB,SAA4BuB,GACxBoB,GAAa,GACblC,EAAI8D,iBAAiBhD,GAChBR,MAAK,SAACyC,GACHf,EAAee,GACfb,GAAa,GACbG,OAEHY,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAkDN3E,UAAWA,IAEf,cAAC,EAAD,CACIb,OAAQ8D,EACR7D,QAAS0E,EACThF,WApDlB,YAA+C,IAAfR,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KAClCsF,GAAa,GACblC,EAAI+D,YAAY,CAAElH,OAAMD,SACnB0D,MAAK,SAACoD,GACHzB,EAAS,CAACyB,GAAF,mBAAcpG,KACtB4E,GAAa,GACbG,OAEHY,OAAM,SAACC,GACJC,QAAQC,IAAIF,OA4CN3E,UAAWA,IAEf,cAAC,EAAD,CACIb,OAAQkE,EACRjE,QAAS0E,EACTtC,UAzHlB,SAA0BjE,GACtBoG,GAAa,GACblC,EAAIgE,WAAWlI,EAAKE,KACfsE,MAAK,WACF,IAAMqD,EAAWrG,EAAM2G,QAAO,SAACL,GAAD,OAAOA,EAAE5H,MAAQF,EAAKE,OACpDiG,EAAS0B,GACTtB,IACAH,GAAa,MAEhBe,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAgHNpH,KAAMqG,EACN5D,UAAWA,IAEf,cAAC,EAAD,CACIzC,KAAMgG,EACNnE,QAAS0E,YCrKhB6B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9D,MAAK,YAAkD,IAA/C+D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFvB,SAASwB,eAAe,SAM1BX,M","file":"static/js/main.3e244fb0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.ff16f24b.svg\";","import React from 'react';\nimport logo from '../img/logo.svg';\nfunction Header() {\n    return (\n        <header className=\"header page__header\">\n            <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\n        </header>\n    );\n}\nexport default Header;","import React from \"react\"\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = props.card.owner._id === currentUser._id;\n    const cardDeleteButtonClassName = (\n        `card__deletion ${isOwn ? '' : 'card__deletion_disabled'}`\n    );\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = (\n        `card__like ${isLiked ? 'card__like_active' : ''}`\n    );\n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n    }\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    return (\n        <li\n            className=\"card\">\n            <button\n                className={cardDeleteButtonClassName}\n                onClick={handleDeleteClick}\n            />\n            <button\n                className=\"card__open-button\"\n                type=\"button\"\n                aria-label=\"Открыть\"\n                onClick={handleCardClick}>\n                <img\n                    className=\"card__photo\"\n                    src={props.link}\n                    alt={props.name}\n                />\n            </button>\n            <div\n                className=\"card__description\">\n                <h2\n                    className=\"card__title\">{props.name}\n                </h2>\n                <div\n                    className=\"card__like-section\">\n                    <button\n                        className={cardLikeButtonClassName}\n                        type=\"button\"\n                        aria-label=\"Like\"\n                        onClick={handleLikeClick}\n                        />\n                    <p \n                        className=\"card__like-number\">\n                        {props.likes.length}\n                    </p>\n                </div>\n            </div>\n        </li>\n    );\n}\nexport default Card;","import React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    return (\n        <main className=\"content page__content\">\n            <section className=\"profile content__profile\">\n                <button\n                    className=\"profile__avatar-button\"\n                    type=\"button\"\n                    onClick={props.onEditAvatar}>\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\n                </button>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\n                    <p className=\"profile__about\">{currentUser.about}</p>\n                    <button\n                        className=\"profile__edit-button\"\n                        type=\"button\"\n                        aria-label=\"Редактировать\"\n                        onClick={props.onEditProfile}\n                    />\n                </div>\n                <button\n                    className=\"profile__add-button\"\n                    type=\"button\"\n                    aria-label=\"Добавить\"\n                    onClick={props.onAddPlace}\n                />\n            </section>\n            <section className=\"cards content__cards\">\n                <ul className=\"cards__grid\">\n                    {\n                        props.cards.map((card) => (\n                            <Card\n                                key={card._id}\n                                card={card}\n                                name={card.name}\n                                link={card.link}\n                                likes={card.likes}\n                                onCardClick={props.onCardClick}\n                                onCardLike={props.onCardLike}\n                                onCardDelete={props.onCardDelete}\n                            />\n                            )\n                        )\n                    }\n\n                </ul>\n            </section>\n        </main>\n    );\n}\nexport default Main;","import React from 'react';\nfunction Footer() {\n    return (\n        <footer className=\"footer page__footer\">\n            <p className=\"footer__content\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}\nexport default Footer;","import React from 'react';\nfunction PopupWithForm(props) {\n    return (\n        <div\n            className={`popup page__popup popup_type_${props.name} ${props.isOpen && \"popup_opened\"}`}>\n            <div\n                className=\"popup__container\">\n                <button\n                    className=\"popup__close-button\"\n                    type=\"button\"\n                    aria-label=\"Закрыть\"\n                    onClick={props.onClose}\n                />\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <form\n                    className=\"popup__form\"\n                    name={props.name}\n                    noValidate\n                    onSubmit={props.onSubmit}>\n                    {props.children}\n                    <button\n                        className=\"popup__save-button\"\n                        type=\"submit\">{props.buttonText}\n                    </button>\n                </form>\n\n            </div>\n        </div>\n    );\n}\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [ name, setName ] = React.useState('');\n    const [ description, setDescription ] = React.useState('');\n    \n    React.useEffect(() => {\n        if (currentUser.name || currentUser.description) {\n            setName(currentUser.name);\n            setDescription(currentUser.about);\n        }\n    }, [currentUser]);\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n    return (\n        <PopupWithForm\n            name=\"edit-profile\"\n            title=\"Редактировать профиль\"\n            buttonText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            children={\n                <>\n                    <input\n                        className=\"popup__input popup__input_name\"\n                        id=\"name-input\"\n                        type=\"text\"\n                        name=\"nameInput\"\n                        placeholder=\"Имя\"\n                        minLength=\"2\"\n                        maxLength=\"40\"\n                        required\n                        value={name}\n                        onChange={handleChangeName}\n                    />\n                    <span\n                        className=\"popup__input-error\"\n                        id=\"name-input-error\"\n                    />\n                    <input\n                        className=\"popup__input popup__input_about\"\n                        id=\"about-input\"\n                        type=\"text\"\n                        name=\"aboutInput\"\n                        placeholder=\"О себе\"\n                        minLength=\"2\"\n                        maxLength=\"200\"\n                        required\n                        value={description}\n                        onChange={handleChangeDescription}\n                    />\n                    <span\n                        className=\"popup__input-error\"\n                        id=\"about-input-error\"\n                    />\n                </>\n            }\n        />\n    )\n}\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nfunction EditAvatarPopup(props) {\n    const avatarRef = React.useRef('');\n    function handleSubmit(evt) {\n        evt.preventDefault();\n         props.onUpdateAvatar({avatar: avatarRef.current.value});\n    }\n    React.useEffect(() => {\n        if (!props.isOpen) {\n            avatarRef.current.value = '';\n\n        }\n    }, [props.isOpen]);\n    return (\n        <PopupWithForm\n            name=\"change-avatar\"\n            title=\"Обновить аватар\"\n            buttonText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            children={\n                <>\n                    <input\n                        className=\"popup__input popup__input_link\"\n                        id=\"avatar-link-input\"\n                        type=\"url\"\n                        name=\"avatarLinkInput\"\n                        placeholder=\"Ссылка на картинку\"\n                        required\n                        ref={avatarRef}\n                    />\n                    <span\n                        className=\"popup__input-error\"\n                        id=\"avatar-link-input-error\"\n                    />\n                </>\n            }\n        />\n    )\n}\nexport default EditAvatarPopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nfunction AddPlacePopup(props) {\n    const [ place, setPlace ] = React.useState('');\n    const [ link, setLink ] = React.useState('');\n\n    React.useEffect(() => {\n        if (!props.isOpen) {\n            setPlace('');\n            setLink('');\n        }\n    }, [props.isOpen]);\n\n    function handleChangePlace(evt) {\n        setPlace(evt.target.value);\n    }\n    function handleChangeLink(evt) {\n        setLink(evt.target.value);\n    }\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onAddPlace({ name: place, link })\n    }\n\n    return (\n        <PopupWithForm\n            name=\"add-card\"\n            title=\"Новое место\"\n            buttonText={props.isLoading ? \"Создание...\" : \"Создать\"}\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n            children={\n                <>\n                    <input\n                        className=\"popup__input popup__input_place\"\n                        id=\"place-input\"\n                        type=\"text\"\n                        name=\"placeInput\"\n                        placeholder=\"Название\"\n                        minLength=\"2\"\n                        maxLength=\"30\"\n                        required\n                        onChange={handleChangePlace}\n                        value={place}\n                    />\n                    <span\n                        className=\"popup__input-error\"\n                        id=\"place-input-error\"\n                    />\n                    <input\n                        className=\"popup__input popup__input_link\"\n                        id=\"link-input\"\n                        type=\"url\"\n                        name=\"linkInput\"\n                        placeholder=\"Ссылка на картинку\"\n                        required\n                        onChange={handleChangeLink}\n                        value={link}\n                    />\n                    <span\n                        className=\"popup__input-error\"\n                        id=\"link-input-error\"\n                    />\n                </>\n            }\n        />\n    )\n}\nexport default AddPlacePopup;","import React from 'react';\nfunction ImagePopup(props) {\n    return (\n        <div\n            className={`popup page__popup popup_type_view-image ${props.card.link && \"popup_opened\"}`}>\n            <figure\n                className=\"popup__img-container\">\n                <button\n                    className=\"popup__close-button popup__close-button_view-image\"\n                    type=\"button\"\n                    aria-label=\"Закрыть\"\n                    onClick={props.onClose}\n                />\n                <img\n                    className=\"popup__img\"\n                    src={props.card.link}\n                    alt={props.card.name}\n                />\n                <figcaption\n                    className=\"popup__img-title\">{props.card.name} </figcaption>\n            </figure>\n        </div>\n    );\n}\nexport default ImagePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nfunction ConfirmPopup(props) {\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onConfirm(props.card);\n    }\n    return (\n        <PopupWithForm\n            name=\"confirm\"\n            title=\"Вы уверены?\"\n            buttonText={props.isLoading ? \"Удаление...\" : \"Да\"}\n            isOpen={props.isOpen}\n            onClose={props.onClose}\n            onSubmit={handleSubmit}\n        />\n    )\n}\nexport default ConfirmPopup;","class Api {\n    constructor(options) {\n        this.Url = options.Url;\n        this.headers = options.headers;\n    }\n\n    getUserData() {\n        return fetch(`${this.Url}/users/me`, {\n            headers: this.headers\n        })\n            .then(res => this._getResponse(res))\n    }\n\n    getInitialCards() {\n        return fetch (`${this.Url}/cards`, {\n            headers: this.headers\n        })\n            .then(res => this._getResponse(res))\n    }\n\n    editUserData({ name, about }) {\n        return fetch(`${this.Url}/users/me`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({\n                name: name,\n                about: about\n            })\n        })\n            .then(res => this._getResponse(res))\n    }\n\n    postNewCard({ name, link }) {\n        return fetch(`${this.Url}/cards `, {\n            method: 'POST',\n            headers: this.headers,\n            body: JSON.stringify({\n                name: name,\n                link: link\n            })\n        })\n            .then(res => this._getResponse(res))\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this.Url}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this.headers,\n        })\n            .then(res => this._getResponse(res))\n    }\n\n    changeLikeStatus(cardId, isLiked) {\n        if (!isLiked) {\n            return fetch(`${this.Url}/cards/likes/${cardId} `, {\n                method: 'PUT',\n                headers: this.headers\n            })\n                .then(res => this._getResponse(res));\n        } else {\n            return fetch(`${this.Url}/cards/likes/${cardId}`, {\n                method: 'DELETE',\n                headers: this.headers\n            })\n                .then(res => this._getResponse(res));\n        }\n    }\n\n    changeUserAvatar(data) {\n        return fetch(`${this.Url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this.headers,\n            body: JSON.stringify({\n                avatar: data.avatar\n            })\n        })\n            .then(res => this._getResponse(res))\n    }\n\n    _getResponse(res) {\n        if (res.ok) {\n            return(res.json());\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n}\n\nconst api = new Api({\n    Url: 'https://mesto.nomoreparties.co/v1/cohort-19',\n    headers: {\n        authorization: 'b88baff0-9a43-403c-833b-e4c683401608',\n        'Content-type': 'application/json',\n    }\n});\n\nexport default api;","import React from 'react';\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport ConfirmPopup from \"./ConfirmPopup.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport api from \"../utils/api.js\";\n\nfunction App() {\n    const [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = React.useState(false);\n    const [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = React.useState(false);\n    const [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = React.useState(false);\n    const [ isConfirmPopupOpen, setIsConfirmPopupOpen ] = React.useState(false);\n    const [ selectedCard, setSelectedCard ] = React.useState({});\n    const [ currentUser, setCurrentUser] = React.useState({});\n    const [ cards, setCards ] = React.useState([]);\n    const [ isLoading, setIsLoading ] = React.useState(false);\n    const [ removedCard, setRemovedCard ] = React.useState({});\n\n    React.useEffect(() => {\n        Promise.all([api.getUserData(), api.getInitialCards()])\n            .then((values) => {\n                const [userData, initialCards] = values;\n                setCurrentUser(userData);\n                setCards(initialCards);\n            })\n            .catch((err) => {\n                console.log(err)\n            });\n    }, []);\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        api.changeLikeStatus(card._id, isLiked)\n            .then((newCard) => {\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n    function handleCardDeleteClick(card) {\n        setIsConfirmPopupOpen(true);\n        setRemovedCard(card);\n    }\n    function handleCardDelete(card) {\n        setIsLoading(true);\n        api.deleteCard(card._id)\n            .then(() => {\n                const newCards = cards.filter((c) => c._id !== card._id);\n                setCards(newCards);\n                closeAllPopups();\n                setIsLoading(false);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setIsConfirmPopupOpen(false);\n        setSelectedCard({})\n    }\n    function handleEscClose(evt) {\n        if (evt.key === 'Escape') {\n            closeAllPopups();\n        }\n    }\n    function handleOverlayClose(evt) {\n        if (evt.target.classList.contains('popup')) {\n            closeAllPopups();\n        }\n    }\n    function handleUpdateUser(currentUser) {\n        setIsLoading(true);\n        api.editUserData(currentUser)\n            .then((data) => {\n                setCurrentUser(data);\n                setIsLoading(false);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n    function handleUpdateAvatar(data) {\n        setIsLoading(true);\n        api.changeUserAvatar(data)\n            .then((userData) => {\n                setCurrentUser(userData);\n                setIsLoading(false);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n    function handleAddPlaceSubmit({ name, link }) {\n        setIsLoading(true);\n        api.postNewCard({ name, link })\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                setIsLoading(false);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n    \n    React.useEffect(() => {\n        document.addEventListener('keydown', handleEscClose);\n        document.addEventListener('mouseup', handleOverlayClose);\n        return () => {\n            document.removeEventListener('keydown', handleEscClose);\n            document.removeEventListener('mouseup', handleOverlayClose);\n        }\n    });\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n          <div className=\"page__container\">\n              <Header/>\n              <Main\n                  onEditProfile={handleEditProfileClick}\n                  onAddPlace={handleAddPlaceClick}\n                  onEditAvatar={handleEditAvatarClick}\n                  onCardClick={setSelectedCard}\n                  cards={cards}\n                  onCardLike={handleCardLike}\n                  onCardDelete={handleCardDeleteClick}\n              />\n              <Footer/>\n              <EditProfilePopup\n                      isOpen={isEditProfilePopupOpen}\n                      onClose={closeAllPopups}\n                      onUpdateUser={handleUpdateUser}\n                      isLoading={isLoading}\n                  />\n                  <EditAvatarPopup\n                      isOpen={isEditAvatarPopupOpen}\n                      onClose={closeAllPopups}\n                      onUpdateAvatar={handleUpdateAvatar}\n                      isLoading={isLoading}\n                  />\n                  <AddPlacePopup\n                      isOpen={isAddPlacePopupOpen}\n                      onClose={closeAllPopups}\n                      onAddPlace={handleAddPlaceSubmit}\n                      isLoading={isLoading}\n                  />\n                  <ConfirmPopup\n                      isOpen={isConfirmPopupOpen}\n                      onClose={closeAllPopups}\n                      onConfirm={handleCardDelete}\n                      card={removedCard}\n                      isLoading={isLoading}\n                  />\n                  <ImagePopup\n                      card={selectedCard}\n                      onClose={closeAllPopups}\n                  />\n              </div>\n          </div>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}